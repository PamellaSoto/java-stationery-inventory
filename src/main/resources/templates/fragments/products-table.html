<table th:fragment="products-table" class="dashboard--table">
    <thead>
    <tr>
        <th>Id</th>
        <th>Product name</th>
        <th>Categories</th>
        <th>Stock</th>
        <th>Price</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr class="table--row" th:each="product : ${products}">
        <td th:text="${product.id}"></td>
        <td>
        <div class="row--title">
            <img class="row--img" th:src="${product.image_url}" />
            <span th:text="${product.product_name}"></span>
        </div>
        </td>
        <td class="row--category" >
        <span th:text="|Type: ${product.product_type_name}|"></span>
        <br>
        <span th:text="|Anime: ${product.anime_name}|"></span>
        </td>
        <td class="row--stock"><span th:classappend="${product.stock < 0} ? ' negative'" th:text="${product.stock}"></span> units</td>
        <td>$ <span th:text="${product.price}"></span></td>
        <td class="row--switch">
        <label class="switch">
            <input
            type="checkbox"
            th:attr="data-id=${product.id}"
            th:checked="${product.is_available}"/>
            <span class="slider"></span>
        </label>
        </td>
        <td class="row--actions">
        <i class="fa-solid fa-pen-to-square" data-toggle-modal="edit-product-modal"></i>
        <div class="hidden" id="edit-product-modal"></div>

        <i class="fa-solid fa-trash" data-toggle-modal="delete-product-modal"></i>
        <div class="hidden" id="delete-product-modal">
            <p>Are you sure you want to delete this product? This action cannot be undone.</p>
            <form th:action="@{/product/{id}/delete}" method="post" th:object="${product}" >
            <button class="button button--small button--gray" type="submit">Yes, delete it</button>
            <button class="button button--small button--pink" data-toggle-modal="delete-product-modal" type="button">Cancel</button>
            </form>
        </div>
        </td>
    </tr>
    </tbody>
</table>